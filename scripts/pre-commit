#!/bin/bash
# Git pre-commit hook - 自動更新版本號

echo "🔄 Pre-commit: 更新版本號..."

# 運行版本更新腳本
node scripts/update_version.js

# 檢查版本更新是否成功
if [ $? -eq 0 ]; then
    echo "✅ 版本號更新成功"
    
    # 將版本文件添加到commit中
    git add data/version.json
    
    echo "📝 版本文件已添加到commit"
else
    echo "❌ 版本號更新失敗"
    exit 1
fi

echo "🎉 Pre-commit 完成"
